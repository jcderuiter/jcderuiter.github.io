<!doctype html>

<script>
'use strict';
const citaten =
[
["1"  , "Een talkshow, ja dat zou kunnen. Mensen zien mij als betrouwbaar, ze kopen gerust mijn tweedehandsauto.                                                                                                                            "],
["2"  , "Ik wil mezelf niet opsluiten in een fort. Ik wil me zelf zijn, een mens.                                                                                                                                                           "],
["3"  , "Haal jij even koffie, ik heb kanker.                                                                                                                                                                                               "],
["4"  , "Meneer, wat moet ik dan doen in de pauze?                                                                                                                                                                                          "],
["5"  , "Ik kan u zeggen dat mijn cliënten law obedient citizens zijn.                                                                                                                                                                     "],
["6"  , "Heel mooi als we groene waterstof en labvlees willen ontwikkelen, maar waar zijn de mensen die dat gaan doen?                                                                                                                      "],
["7"  , "Mijn vader gaat de geschiedenisboeken in, net als jullie. Maar over mijn vader zullen ze schrijven dat het een held was.                                                                                                           "],
["8"  , "Ons gezin was in één klap verwoest. Al onze privacy lag op straat. Dan word je bang, vertrouwt niemand meer. Dit kan dus gebeuren.                                                                                               "],
["9"  , "In het westen van Oekraïne is de situatie naar mijn smaak redelijk stabiel.                                                                                                                                                       "],
["10" , "Nu hebben we de mogelijkheid om het land van Israël te herbouwen en uit te breiden. Dit is onze laatste kans.                                                                                                                     "],
["11" , "Kennelijk doet bij de VVD het ter discussie stellen van de democratische rechtsstaat minder pijn dan het instellen van de miljonairsbelasting.                                                                                     "],
["12" , "Ik ben geen prototype danser. Dat ranke en sierlijke heb ik niet. Ik heb altijd aan de aarde vastgezeten.                                                                                                                          "],
["13" , "Ik had zo'n gevoel van: ik kan wel winnen, ik wil winnen, nee ik gá gewoon winnen.                                                                                                                                                "],
["14" , "Ik heb mijn verscheiden geveinsd.                                                                                                                                                                                                  "],
["15" , "Bestaanszekerheid bouw je niet met luchtkastelen.                                                                                                                                                                                  "],
["16" , "We waren al volop bezig om Europa 'Poetin-proof' te maken. Nu moeten we ook Trump-proof' worden.                                                                                                                                  "],
["17" , "Volg nooit de massa, denk voor jezelf.                                                                                                                                                                                             "],
["18" , "Probeer dat ontzettend hippe celluloid eens uit!                                                                                                                                                                                   "],
["19" , "Als je jong bent, ben je boos en begrijp je niets.                                                                                                                                                                                 "],
["20" , "Ik word steeds gevraagd voor Indische rollen, terwijl ik helemaal niks Indisch heb.                                                                                                                                                "],
["21" , "Wat Wat betreft meneer Navalny. Ja, die is overleden. Dat is altijd een nare gebeurtenis.                                                                                                                                          "],
["22" , "Vrouwen worden snel als klapstoel gebruikt. Als we je nodig hebben, zijn we heel blij met je. En als er enorme werkloosheid is, denken we: nou, kun je niet beter voor de kinderen thuis blijven.                                  "],
["23" , "OMG!! Dat was zo'n beetje mijn reactie toen ik werd gevraagd of ik mee wilde werken. Natuurlijk hoefde ik niet lang na te denken, want wat een eer om straks tussen al deze iconische figuren te schitteren!!                      "],
["24" , "Ze scholden me uit voor terrorist en moordenaar.                                                                                                                                                                                   "],
["25" , "Ik heb gezegd, als je er nou nog een keer over begint, dan sla ik je echt op je bek, gast.                                                                                                                                         "],
["26" , "Ik heb al veel meer bereikt dan ik had kunnen hopen.                                                                                                                                                                               "],
["27" , "Ik heb de zegen gevraagd over de kabinetsformatie.                                                                                                                                                                                 "],
["28" , "Hij is toch geen Fries. Kom op, zeg. Ik ben toch ook geen Surinamer.                                                                                                                                                               "],
["29" , "Dagelijks noemen mensen me legendarisch en ik ben het met hen eens. Mijn prestaties spreken voor zich.                                                                                                                             "],
["30" , "Wij mogen nooit met 6-0 verliezen.                                                                                                                                                                                                 "],
["31" , "De vlam is nu gedoofd.                                                                                                                                                                                                             "],
["32" , "De vluchten gaan door, wat er ook gebeurt.                                                                                                                                                                                         "],
["33" , "In mei, wanneer de geur van bloemen en gras de Grote Hongaarse Laagvlakte vult, breng ik een staatsbezoek aan Hongarije.                                                                                                           "],
["34" , "Sorry Pieter.                                                                                                                                                                                                                      "],
["35" , "Je kan me niet klein krijgen, ouwe.                                                                                                                                                                                                "],
["36" , "Oh, beste mens, heb ik even sappig nieuws voor jou!                                                                                                                                                                                "],
["37" , "Hij is intelligenter dan ik. Hij schakelt heel snel, dat zou ik ook willen kunnen.                                                                                                                                                 "],
["38" , "Het voelt allemaal kafkaesk aan, een gemiddelde terrorist lijkt meer rechten te hebben dan een politicus met een scherpe mening.                                                                                                   "],
["39" , "Een gezichtscrème hoor je op je gezicht te smeren, niet op te eten.                                                                                                                                                               "],
["40" , "Het geld dat nu nog naar het buitenland wordt gedragen, gaan we straks aan onze Nederlandse burgers besteden.                                                                                                                      "],
["41" , "Wat moest ik ook alweer? O ja, reflecteren....                                                                                                                                                                                     "],
["42" , "Het is alsof ik een verkering uitmaak.                                                                                                                                                                                             "],
["43" , "We begonnen slap.                                                                                                                                                                                                                  "],
["44" , "Leuk jullie allemaal te zien!                                                                                                                                                                                                      "],
["45" , "Gibraltar is Spaans!                                                                                                                                                                                                               "],
["46" , "Het was misschien wel mijn beste optreden ooit. Als iemand echt beter is, kan ik niet teleurgesteld zijn.                                                                                                                          "],
["47" , "Op 13 juli hebben we gefaald.                                                                                                                                                                                                      "],
["48" , "De mensen die een sportwagen bezitten, kijken vaak neer op de lui in bestelbusjes, maar als je het mij vraagt, is zo'n busje toch handiger.                                                                                        "],
["49" , "Het christendom zelf is Gods eigen dragshow.                                                                                                                                                                                       "],
["50" , "Ik ben zelf ook echt heel benieuwd. Ik heb dit nog nooit gedaan.                                                                                                                                                                   "],
["51" , "Ik doe het voor jou.                                                                                                                                                                                                               "],
["52" , "Ik dacht: als ik de laatste vijftig meter dichtbij genoeg zit, moet ik de boosheid in mezelf maar terug omhoog halen en alles geven.                                                                                               "],
["53" , "Deze mensen zijn gewoon weird.                                                                                                                                                                                                     "],
["54" , "Fuck de haters, fuck extreemrechts en fuck naar al die mensen die ons tegen elkaar willen opzetten.                                                                                                                                "],
["55" , "Ik stond stil. Er ging zoveel door me heen. Zoveel emoties, zoveel blijdschap. Dat ik dit kon doen met de jongens hier.                                                                                                         "],
["56" , "Wij moeten niet de ideale schoonzoons zijn. We moeten een beetje vies zijn. En dat waren we.                                                                                                                                       "],
["57" , "Hij was hier en deed zijn best.                                                                                                                                                                                                    "],
["58" , "Ik er slecht tegen als protestantse mensen zeggen niet-katholiek te zijn.                                                                                                                                                          "],
["59" , "Bij het sprinten heb ik meer een C-vorm, bij het springen een J-vorm.                                                                                                                                                              "],
["60" , "Het allerlaatste dat ik wil is dat het om mij gaat.                                                                                                                                                                                "],
["61" , "Ik heb me bij Halina op de set altijd heel veilig gevoeld.                                                                                                                                                                         "],
["62" , "Mijn kinderen eten niks! Dan zeggen ze: oh, ik heb niet zo'n trek. Daarvan krimpt mijn hart iedere keer ineen.                                                                                                                     "],
["63" , "We moeten geen dikkebandenpolitie gaan instellen.                                                                                                                                                                                  "],
["64" , "Ik heb het mensen op televisie horen zeggen.                                                                                                                                                                                       "],
["65" , "Soms richt je je gewoon op wat er in de media aan publiciteit is en heb je daar een oordeelsvorming over. Ik zit nu op de plek waar ik meteen informatie krijg, dat is een andere situatie.                                        "],
["66" , "Tjongejongejonge.                                                                                                                                                                                                                  "],
["67" , "Het is geen wapen, maar een hulpmiddel. Je kunt het beschouwen als een soort fysiotherapie.                                                                                                                                        "],
["68" , "Mensen, er was afgesproken dat jullie niet zouden factchecken!                                                                                                                                                                     "],
["69" , "Als katholieke geestelijken op grote schaal kinderen verkrachten, dan wordt dat de individuele katholiek niet aangerekend. Maar alle Joden wereldwijd worden aangekeken op de politiek en oorlogsvoering van de regering-Netanyahu."],
["70" , "In de koelkast ligt iemands hoofd.                                                                                                                                                                                                 "],
["71" , "De bewakers zeiden: vandaag gaan jullie dood.                                                                                                                                                                                      "],
["72" , "Als Trump verliest ben ik genaaid! Hoelang denk je dat mijn celstraf zal zijn?                                                                                                                                                     "],
["73" , "Het zou wel heel raar zijn als iemand op asiel het kabinet laat vallen.                                                                                                                                                            "],
["74" , "Over veiligheid wordt niet onderhandeld, met niemand.                                                                                                                                                                              "],
["75" , "Dit is niet uw land, u bent niet mijn koning!                                                                                                                                                                                      "],
["76" , "Ik wilde mezelf zo onaantrekkelijk mogelijk maken, om niet als een snack aan een touwtje te zijn voor die persoon.                                                                                                                 "],
["77" , "Pas achteraf begreep ik dat ik Mick Jagger had gevraagd of hij een privéconcert in mijn vakantiehuisje wilde geven. Ik had geen idee dat de man een soort legende was.                                                            "],
["78" , "Ik wil graag nog drie, vier films maken, al ben ik bang dat ik dat niet haal. Alleen over deze eerste film heb ik al acht jaar gedaan.                                                                                             "],
["79" , "Vanochtend was ik om 5.00 uur wakker. Ik heb toen tot vijfhonderd geteld om niet meteen aan het mailen te slaan.                                                                                                                   "],
["80" , "De mannen met vastgeroeste ideeën over de man-vrouwverhouding realiseren zich niet hoeveel ze gemeen hebben met de Taliban. En met het Vaticaan.                                                                                "],
["81" , "Iedereen was buitengewoon optimistisch. Ik eerlijk gezegd ook.                                                                                                                                                                     "],
["82" , "Ik weet dat veel mensen het gevoel hebben dat we een donkere tijd ingaan. Ik hoop voor ons allemaal dat het niet zo is.                                                                                                            "],
["83" , "Het is valse romantiek om de extreemrechtse stemmer voor te stellen als een soort nobele wilde, als iemand die eigenlijk de beste bedoelingen heeft. Het leidt tot niets.                                                          "],
["84" , "Ik schaam me helemaal niet kapot.                                                                                                                                                                                                  "],
["85" , "Wat ik in het Oude Testament las, vond ik zo afgrijselijk, zo vrouwonvriendelijk, dat ik dacht: ja, toedeledokie, ik wil deze vent helemaal niet vinden!                                                                           "],
["86" , "Van onderschatting was geen sprake.                                                                                                                                                                                                "],
["87" , "Het moet een keer ophouden, al dat gedoe, al die relletjes.                                                                                                                                                                        "],
["88" , "Deze schilder dacht: wat fijn. Ik hoef niet op een tochtige zolder, ik hoef m'n oor er niet af te snijden.                                                                                                                         "],
["89" , "Wat zich nu in Gaza voltrekt, is inmiddels een genocide te noemen.                                                                                                                                                                 "],
["90" , "Het is niets meer dan een optische illusie.                                                                                                                                                                                        "],
["91" , "Zowel mijn werk als de VVD verdienen beter.                                                                                                                                                                                        "],
["92" , "Waarom ging niemand naar de politie?                                                                                                                                                                                               "],
["93" , "Ik laat me niet meer in mijn pijngrens zitten.                                                                                                                                                                                     "],
["94" , "Wij gaan niet weg. We moeten het met elkaar doen. Zo heb ik zelf ook altijd gewerkt, ik ben van de stille diplomatie.                                                                                                              "],
["95" , "We veranderen het aanzicht van de regio.                                                                                                                                                                                           "],
["96" , "God is een tandeloze lieverd geworden, met een mummelbekje. Die jouw zelfbeeld bevestigt.                                                                                                                                          "],
["97" , "Mijn mandaat blijft van kracht totdat er een legitiem gekozen parlement is gevormd.                                                                                                                                                "],
["98" , "We hebben herontdekt wat grote naties kunnen: het onmogelijke bewerkstelligen.                                                                                                                                                     "],
["99" , "Ik sta te trillen op mijn benen.                                                                                                                                                                                                   "],
["100", "Er lagen lijken in ovens. Een van de vrijgelaten gevangenen vertelde ons dat hij vandaag zou worden geëxecuteerd.                                                                                                                 "]
];
const namen =
[
["i", "Ahmed Aboutaleb, scheidend burgemeester van Rotterdam                 "],
["i", "Marina Abramovic, performance kunstenaar                              "],
["a", "Fleur Agema, vicepremier en minister van Volksgezondheid              "],
["n", "Thierry Baudet, FvD-leider                                            "],
["s", "Pirmin Blaak, keeper van het gouden hockeyteam                        "],
["e", "Wies Bloemen, artistiek leider van Danstheater Aya                    "],
["o", "Femke Bol, atlete                                                     "],
["b", "Martin Bosma, Kamervoorzitter en PVV'er                               "],
["e", "Adriaan ter Braack, Sjamadriaan                                       "],
["n", "Ansgar John Brenninkmeijer, C&A-telg                                  "],
["a", "Kimberly Cheatle, hoofd van de Amerikaanse geheime dienst             "],
["a", "Prins Constantijn, ondernemer                                         "],
["e", "Hans Dagelet, acteur                                                  "],
["r", "Janke Dekker, actrice                                                 "],
["n", "Johan Derksen, oud-voetballer en presentator                          "],
["i", "André van Duin, presentator en komiek                                "],
["n", "Duolingo-uiltje                                                       "],
["o", "Virgil van Dijk, aanvoerder Oranje                                    "],
["a", "Ofir Engel, Israëliër                                               "],
["i", "Marjolein Faber, minister van Asiel                                   "],
["k", "Prins Frederik, kroonprins van Denemarken                             "],
["o", "Grok, de chatbot van Elon Musk                                        "],
["e", "Nikki Haley, kandidaat bij Republikeinse voorverkiezing presidentschap"],
["o", "Femke Halsema, burgemeester van Amsterdam                             "],
["r", "Kamala Harris, presidentskandidaat voor de Democraten                 "],
["e", "Sifan Hassan, hardloopster                                            "],
["p", "Anne Hidalgo, burgemeester van Parijs                                 "],
["d", "Hoyte van Hoytema, cameraman                                          "],
["i", "Joël de Jong, para-atleet                                            "],
["o", "Worthy de Jong, basketballer                                          "],
["e", "Annemarie Jorritsma, oud-burgemeester van Almere                      "],
["n", "Irvin Kanhai, advocaat                                                "],
["e", "Haim Katz, minister Toerisme Israël                                  "],
["d", "Mona Keijzer, BBB-Kamerlid                                            "],
["l", "Nicole Kidman, actrice                                                "],
["e", "Joost Klein, zanger                                                   "],
["r", "Reinette Klever, beoogd minister voor Ontwikkelingshulp               "],
["e", "Jorinde van Klinken, discuswerpster                                   "],
["g", "Herman Koch, schrijver                                                "],
["h", "Jeroen Krabbé, acteur en schilder                                    "],
["e", "Lenny Kuhr, zangeres                                                  "],
["e", "Prinses Laurentien                                                    "],
["d", "Margriet van der Linden, journalist                                   "],
["e", "Emmanuel Macron, president Frankrijk                                  "],
["d", "Barry Madlener, minister van Infrastructuur                           "],
["d", "Gidi Markuszower, beoogd minister van Asiel                           "],
["k", "Álvaro Morata, aanvoerder Spaans elftal                              "],
["d", "Elon Musk, tech-miljardair                                            "],
["e", "Leela Nandan, diplomate                                               "],
["s", "Benjamin Netanyahu, premier Israël                                   "],
["e", "Linda Nooitmeer, voorzitter NiNsee                                    "],
["m", "Kajsa Ollongren, demissionair minister van Defensie                   "],
["i", "Pieter Omtzigt, NSC-leider                                            "],
["m", "Griet Op de Beeck, schrijfster                                        "],
["i", "Yotam Ottolenghi, kok                                                 "],
["r", "Faiza Oulahsen, gezicht van Greenpeace                                "],
["e", "Poonam Pandey, model                                                  "],
["t", "Gisèle Pelicot, Française                                           "],
["s", "Cor Pierik, BBB-Kamerlid                                              "],
["a", "Caroline van der Plas, BBB-voorvrouw                                  "],
["d", "Ronald Plasterk, beoogd premier                                       "],
["d", "Mathieu van der Poel, wielrenner                                      "],
["n", "Vladimir Poetin, president Rusland                                    "],
["n", "Chaja Polak, schrijfster                                              "],
["a", "Rashad, leerling                                                      "],
["h", "Sharon van Rouwendaal, zwemster                                       "],
["n", "Mark Rutte, premier                                                   "],
["d", "Raed al-Saleh, hoofd van de Syrische Witte Helmen                     "],
["g", "Sander Schimmelpenninck, journalist                                   "],
["a", "John van 't Schip, Ajax-trainer                                       "],
["f", "Edith Schippers, VVD-senator                                          "],
["n", "Olaf Scholz, Duits bondskanselier                                     "],
["s", "Dick Schoof, premier                                                  "],
["t", "Thelma Schoon, Jonge Theoloog des Vaderlands                          "],
["s", "Monic Slingerland, voormalig chef opinie bij Trouw                    "],
["e", "Peter-Ben Smit, bijzonder hoogleraar en oud-priester                  "],
["i", "Rishi Sunak, Brits premier                                            "],
["m", "Jean-Jacques Suurmond, predikant                                      "],
["e", "Taylor Swift, zangeres                                                "],
["n", "Charles den Tex, thrillerschrijver                                    "],
["i", "Lidia Thorpe, senator Australië                                      "],
["g", "Frans Timmermans, leider van GroenLinks-PvdA                          "],
["e", "Trouw-commentator                                                     "],
["w", "Donald Trump, presidentskandidaat voor de Republikeinen               "],
["t", "Donald Tusk, premier Polen                                            "],
["m", "Regilio Tuur, bokser                                                  "],
["e", "J.D. Vance, vicepresidentskandidaat voor de Republikeinen             "],
["a", "Dimitri Verhulst, schrijver en filmmaker                              "],
["v", "Jonas Vingegaard, wielrenner                                          "],
["f", "Sanne Vogel, actrice                                                  "],
["t", "Freek Vonk, bioloog en presentator                                    "],
["a", "Kelly de Vries, dochter van Peter R. de Vries                         "],
["g", "Nicolien van Vroonhoven, vicevoorzitter van het NSC                   "],
["g", "Hans Vijlbrief, staatssecretaris van Mijnbouw                         "],
["p", "Tim Walz, vicepresidentskandidaat voor de Democraten                  "],
["p", "Geert Wilders, PVV-leider                                             "],
["r", "Koning Willem-Alexander                                               "],
["k", "Xi Jinping, president China                                           "],
["a", "Dilan Yesilgöz, VVD-fractievoorzitter                                "],
["e", "Salome Zoerabisjvili, president Georgië                              "]
];
</script>

<html lang="nl">
<head>
<meta http-equiv="expires" content="now"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta name="version" content="41"/>
<title>trouwCitatenPuzzel</title>
<style>

*
{
   box-sizing:  border-box;                      /* */
   user-select: none;                            /* */
}

.draggable
{
   cursor: grab;                                 /* */
}

.clickable
{
   cursor: pointer;                              /* */
}

#oplossing
{
   display:               inline-grid;           /* voor mooie vierkantjes */
   grid-template-columns: repeat(50, 1fr);       /* */

   padding:               1.0rem;                /* */
   background:            hsl( 45, 50%, 90%);    /* */
}

#oplossing > .cijfer
{
   text-align: center;                           /* */
}

#oplossing > .letter
{
   width:         1.6rem;                        /* */
   height:        1.6rem;                        /* */

   border-style:  solid;                         /* */
   border-width:  1px;                           /* */
   border-color:  hsl(0, 0%, 0%);                /* */

   font-variant: small-caps;                     /* */
   text-align: center;                           /* */
}

#oplossing > .letter:not(:nth-child(50n+1))
{
   border-left:   none;                          /* */
}

#keuzes
{
   display:          inline-grid;                /* */
/* display:                 grid;                /* */
   grid-template-columns: repeat(4, minmax(1rem, auto));       /* */

/* max-height: 70vh; /* */
       height: 70vh; /* */
   overflow: auto;                               /* */

   gap:                   .5rem;                 /* */
   padding:               1.0rem;                /* */
   background: hsl(345, 50%, 90%);               /* */
}

#keuzes > div:nth-child(4n+3)
{
   text-align: right;                            /* */
}

#numeriek, #alfabetisch
{
   padding: .3rem; /* */
}



/* begin copyright style */
.jcr-copy
{
   border-top:  hsl(000, 000%, 020%) thin solid; /* */
   color:       hsl(000, 000%, 020%);            /* */
   font-size:   0.9rem;                          /* */
   text-align:  right;                           /* */
   margin:      1rem 0.5rem;                     /* */
   padding:     0.5rem;                          /* */
   user-select: none;                            /* */
}
.jcr-copy::before { content: '\00a9 '; }          /* */
.jcr-copy::after  { content: ' jcr'; }            /* */
/* end copyright style */
</style>
<script>
'use strict';
document.addEventListener('DOMContentLoaded', e => js_object_trouwCitatenPuzzel.onload(e), false);

const js_object_trouwCitatenPuzzel = (() =>
{
   const onload = e =>
   {
      try
      {
         let year = new Date(document.lastModified).getFullYear();
         document.querySelectorAll('.jcr-copy').forEach(y => y.innerHTML = year);
         init();
      }  catch(err) { console.error('oops', err) }
   }

   const realName = Array.from(namen.keys());        // van gesorteerde index naar echte: namen[realName[99]][0] == 'z'

   const fixed = new Array(namen.length).fill(false);  // fixed[citaat] == true ? person voor citaat ligt vast

   const personByQuote = Array(namen.length);
   const quoteByPerson = Array(namen.length);
   const defaultOrder  = Array.from(namen.keys());

   const rowOfBox      = Array.from(namen.keys());

   let quoteByRow  = defaultOrder;                   // bij alfabetische volgorde wordt het
   let personByRow = personByQuote;                  // quoteByRow = quoteByPerson en personByRow = default

   const boxById          = Array(namen.length);
   const quoteNumberById  = Array(namen.length);
   const quoteTextById    = Array(namen.length);
   const personLetterById = Array(namen.length);
   const personTextById   = Array(namen.length);


   const init = () =>
   {
      sortLetters();

      readCookie();

      docElements();

      fillBoxes();

      numeriek.onclick    = numericOrder;
      alfabetisch.onclick = alphabeticOrder;

      numericOrder();
   }


   const drop = e =>
   {
      let isBox = e.dataTransfer.getData(e.dataTransfer.types[0]).charAt(0) == 'B';


      let from = parseInt(e.dataTransfer.getData(e.dataTransfer.types[0]).substr(1));
      let to   = parseInt(e.target.id.substr(1));

      if (isBox)
      {
         from = rowOfBox[from];
         to   = rowOfBox[to];
      }

      let quoteFrom = quoteByRow[from];
      let quoteTo   = quoteByRow[to];
      let personFrom = personByRow[from];
      let personTo   = personByRow[to];

      [boxById[quoteByRow[from]].innerHTML, boxById[quoteByRow[to]].innerHTML] = [boxById[quoteByRow[to]].innerHTML, boxById[quoteByRow[from]].innerHTML];

      if (quoteByRow == defaultOrder)
      {
         [personLetterById[from].innerHTML, personLetterById[to].innerHTML] = [personLetterById[to].innerHTML, personLetterById[from].innerHTML];
         [personTextById[from].innerHTML,   personTextById[to].innerHTML]   = [personTextById[to].innerHTML,   personTextById[from].innerHTML];
      }
      else
      {
         [quoteNumberById[from].innerHTML, quoteNumberById[to].innerHTML] = [quoteNumberById[to].innerHTML, quoteNumberById[from].innerHTML];
         [quoteTextById[from].innerHTML,   quoteTextById[to].innerHTML]   = [quoteTextById[to].innerHTML,   quoteTextById[from].innerHTML];

         [rowOfBox[from], rowOfBox[to]] = [rowOfBox[to], rowOfBox[from]];
      }

      [quoteByPerson[personFrom], quoteByPerson[personTo]] = [quoteByPerson[personTo], quoteByPerson[personFrom]];
      [personByQuote[quoteFrom], personByQuote[quoteTo]]   = [personByQuote[quoteTo], personByQuote[quoteFrom]];

      writeCookie();
   }

   const toggleFixed = e =>
   {
      let row    = parseInt(e.target.id.substr(1));
      let quote  = quoteByRow[row];


      fixed[quote] = !fixed[quote];

      if (fixed[quote])
      {
         unsetDragDrop(personTextById[row]);
         unsetDragDrop(quoteTextById[row]);
         unsetDragDrop(boxById[quote]);
         e.target.innerHTML = e.target.innerHTML.toUpperCase();
         boxById[quote].innerHTML = boxById[quote].innerHTML.toUpperCase();
      }
      else
      {
         setDrop(personTextById[row]);
         setDrop(quoteTextById[row]);
         if (quoteByRow == defaultOrder)
         {
            setDrag(personTextById[row]);
         }
         else
         {
            setDrag(quoteTextById[row]);
         }

         setDragDrop(boxById[quote]);
         e.target.innerHTML = e.target.innerHTML.toLowerCase();
         boxById[quote].innerHTML= boxById[quote].innerHTML.toLowerCase();
      }

      writeCookie();
   }


   const sortLetters = () =>
   {
      // convert html entities (for sorting)
      let convertEntities = document.createElement('div');
      namen.forEach(v =>
      {
         convertEntities.innerHTML = v[0];
         v[0] = convertEntities.innerHTML;
//         convertEntities.innerHTML = v[1]; v[1] = convertEntities.innerHTML;
      });

      realName.sort((a, b) => namen[a][0].localeCompare(namen[b][0]) || a - b);

      realName.forEach((v, i) =>
      {
         quoteByPerson[i] = v;
         personByQuote[v] = i;
      });
   }

   const docElements = () =>
   {
      let cols = 50;
      let rows = parseInt((citaten.length+cols-1)/cols);

      for (let r = 0; r < rows; r++)
      {
         for (let c = 0 ; c < cols; c++)
         {
            let i = r*cols+c;

            let box          = document.createElement('div');
            let quoteNumber  = document.createElement('div');
            let quoteText    = document.createElement('div');
            let personLetter = document.createElement('div');
            let personText   = document.createElement('div');

            box.id          = 'B' + i;
            quoteNumber.id  = 'N' + i;
            quoteText.id    = 'Q' + i;
            personLetter.id = 'L' + i;
            personText.id   = 'P' + i;

            box.classList.add('letter');
            personLetter.classList.add('clickable');

            personLetter.onclick = toggleFixed;

            box.ondragstart        = dragStart;
            quoteText.ondragstart  = dragStart;
            personText.ondragstart = dragStart;

            boxById[i]          = box;
            quoteNumberById[i]  = quoteNumber;
            quoteTextById[i]    = quoteText;
            personLetterById[i] = personLetter;
            personTextById[i]   = personText;

            oplossing.appendChild(box);
            keuzes.appendChild(quoteNumber);
            keuzes.appendChild(quoteText);
            keuzes.appendChild(personLetter);
            keuzes.appendChild(personText);
         }

         for (let c = 0 ; c < cols; c++)
         {
            let div = document.createElement('div');
            div.className = 'cijfer';

            if (c%5 == 4) { div.innerHTML = r*cols+c+1 }

            oplossing.appendChild(div);
         }
      }
   }

   const fillBoxes = () =>
   {
      defaultOrder.forEach(v =>                   // note: v == index in defaultOrder
      {
         let i = quoteByRow[v];

         let box = boxById[i];
         let value = namen[realName[personByRow[v]]][0];

         if (fixed[i])
         {
            box.innerHTML = value.toUpperCase();
         }
         else
         {
            box.innerHTML = value.toLowerCase();
            setDragDrop(box);
         }
      });
   }

   const numericOrder = () =>
   {
      quoteByRow  = defaultOrder;
      personByRow = personByQuote;

      fillRows();
   }

   const alphabeticOrder = () =>
   {
      quoteByRow  = quoteByPerson;
      personByRow = defaultOrder;

      quoteByRow.forEach((v, i) => { rowOfBox[v] = i });

      fillRows();
   }

   const fillRows = () =>
   {
      defaultOrder.forEach(v =>
      {
         quoteNumberById[v].innerHTML  = citaten[quoteByRow[v]][0];
         quoteTextById[v].innerHTML    = citaten[quoteByRow[v]][1];
         personLetterById[v].innerHTML = namen[realName[personByRow[v]]][0];
         personTextById[v].innerHTML   = namen[realName[personByRow[v]]][1];

         if (quoteByRow == defaultOrder)
         {
            if (fixed[v])
            {
               personLetterById[v].innerHTML = personLetterById[v].innerHTML.toUpperCase();
               unsetDragDrop(quoteTextById[v]);
               unsetDragDrop(personTextById[v]);
            }
            else
            {
               personLetterById[v].innerHTML = personLetterById[v].innerHTML.toLowerCase();
               unsetDrag(quoteTextById[v]);
               setDrop(quoteTextById[v]);
               setDragDrop(personTextById[v]);
            }

         }
         else
         {
            if (fixed[quoteByRow[v]])
            {
               personLetterById[v].innerHTML = personLetterById[v].innerHTML.toUpperCase();
               unsetDragDrop(quoteTextById[v]);
               unsetDragDrop(personTextById[v]);
            }
            else
            {
               personLetterById[v].innerHTML = personLetterById[v].innerHTML.toLowerCase();
               setDragDrop(quoteTextById[v]);
               unsetDrag(personTextById[v]);
               setDrop(personTextById[v]);
            }
         }
      });
   }

   const readCookie = () =>
   {
      // lookup tabellen quote naar person en andersom

      realName.forEach((v, i) =>
      {
         quoteByPerson[i] = v;
         personByQuote[v] = i;
      });

      let personByName = personByQuote;  // de lookup van person in namen[] en citaten[] zijn initieel gelijk


      // de eventuele cookie heeft volgorde van quote en verwijzing naar namen[] (dus niet naar person)

      // searchstring override

      let result = [...(new URLSearchParams(window.location.search).get("citaten") ?? '').matchAll(/([UL])(\d+)/g)];


      if (result.length != citaten.length)
      {
         result = [...document.cookie.split(';').reduce((a,c) => (c.match(/\s*citaten=/))
                                                               ? c.split('=')[1]
                                                               : a, '').matchAll(/([UL])(\d+)/g)];
      }

      if (result.length == citaten.length)
      {
         result.forEach((v, i) =>
         {
            quoteByPerson[personByName[parseInt(v[2])]] = i;  // v[2] -> person heeft quote i

            fixed[i] = v[1] == 'U';
         });

         quoteByPerson.forEach((v, i) => { personByQuote[v] = i });  // nieuwe "reverse lookup" adhv cookie
      }
   }

   const writeCookie = () =>
   {
      let s = fixed.reduce((a, v, i) => a + (v ? 'U' : 'L') + realName[personByQuote[i]], '');
      let weeks = 50;

      document.cookie = `citaten=${s};expires=${new Date(Date.now()+1000*60*60*24*7*${weeks}).toUTCString()}`;
//      console.log('writeCookie():', s);
   }

   const setDragDrop = element =>
   {
      setDrag(element);
      setDrop(element);
   }

   const setDrag = element =>
   {
      element.draggable  = 'yep';
      element.classList.add('draggable');
   }

   const setDrop = element =>
   {
      element.ondragover = dragover;
      element.ondrop     = drop;
   }

   const unsetDragDrop = element =>
   {
      unsetDrag(element);
      unsetDrop(element);
   }

   const unsetDrag = element =>
   {
      element.draggable  = '';
      element.classList.remove('draggable');
   }

   const unsetDrop = element =>
   {
      element.ondragover = null;
      element.ondrop     = null;
   }

   const dragStart = e =>
   {
      e.dataTransfer.setData(e.target.id, e.target.id);
   }

   const dragover = e =>
   {
      let src = e.dataTransfer.types[0].charAt(0).toUpperCase();  // types[0] is het element id, maar in lowercase !?
      let tgt = e.target.id.charAt(0).toUpperCase();

//      if (src != tgt && !(src == 'Q' && tgt == 'P') && !(src == 'P' && tgt == 'Q')) { return }

      if ((src == 'B' && tgt != 'B') || (src != 'B' && tgt == 'B')) { return }

      e.preventDefault();
      e.dataTransfer.dropEffect = 'move';
   }

   return { onload: onload };
})();
</script>
</head>
<body>

<div id="oplossing"></div>
<br/>
<br/>
<br/>
<div id="keuzes">
<div></div> <button id="numeriek">sorteer op nummer</button>
<div></div> <button id="alfabetisch">sorteer op letter</botton>
</div>

<div class="jcr-copy"></div>
</body>
</html>
